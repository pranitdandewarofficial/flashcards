<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FlashLearn AI | Smart Flashcards for IIT JEE & NEET</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <style>
    :root {
      --bg-light: #f3f4f6;
      --bg-dark: #111827;
      --card-light: #ffffff;
      --card-dark: #1f2937;
      --text-light: #111827;
      --text-dark: #f9fafb;
      --accent: #6366f1;
      --accent-light: #818cf8;
      --success: #22c55e;
      --warning: #f59e0b;
      --danger: #ef4444;
      --transition: all 0.3s ease;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      transition: var(--transition);
      min-height: 100vh;
      padding: 2rem;
      background: linear-gradient(135deg, #f0f4ff 0%, #e6f0ff 100%);
      color: var(--text-light);
      line-height: 1.6;
    }

    body.dark {
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
      color: var(--text-dark);
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1rem;
    }

    header {
      text-align: center;
      margin-bottom: 2rem;
      padding-top: 1rem;
      position: relative;
    }

    .logo {
      font-size: 2.8rem;
      font-weight: 800;
      margin-bottom: 1rem;
      background: linear-gradient(90deg, #6366f1, #ec4899);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      display: inline-block;
    }

    .tagline {
      font-size: 1.2rem;
      color: #4f46e5;
      font-weight: 600;
      max-width: 600px;
      margin: 0 auto 1.5rem;
    }

    .profile-container {
      width: 120px;
      height: 120px;
      border-radius: 30px;
      overflow: hidden;
      margin: 0 auto 1.5rem;
      border: 3px solid #6366f1;
      box-shadow: 0 8px 25px rgba(99, 102, 241, 0.3);
      animation: photoPopIn 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
      margin-top: 1.5rem;
      margin-bottom: 2.5rem;
    }

    .profile-container img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.35s cubic-bezier(0.4, 2, 0.3, 1);
      border-radius: 30px;
      object-position: center 0px;
    }

    .profile-container:hover img {
      transform: scale(1.1);
    }

    @keyframes photoPopIn {
      from { opacity: 0; transform: scale(0.7) translateY(40px); }
      to { opacity: 1; transform: scale(1) translateY(0); }
    }

    .controls {
      display: flex;
      gap: 1rem;
      margin: 1.5rem 0;
      flex-wrap: wrap;
      justify-content: center;
    }

    .generator {
      display: flex;
      gap: 1rem;
      margin: 2rem 0;
      flex-direction: column;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
    }

    #topic-input {
      padding: 1rem 1.5rem;
      font-size: 1.1rem;
      border-radius: 16px;
      border: 2px solid #c7d2fe;
      width: 100%;
      font-family: inherit;
      background: white;
      transition: var(--transition);
      box-shadow: 0 4px 10px rgba(99, 102, 241, 0.1);
    }

    body.dark #topic-input {
      background: #1f2937;
      border-color: #4b5563;
      color: white;
    }

    #topic-input:focus {
      outline: none;
      border-color: #6366f1;
      box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.2);
    }

    #generate-btn {
      padding: 1rem 1.8rem;
      font-size: 1.1rem;
      border: none;
      border-radius: 16px;
      background: var(--accent);
      color: white;
      cursor: pointer;
      transition: var(--transition);
      font-weight: 600;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.8rem;
      box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3);
    }

    #generate-btn:hover {
      background: var(--accent-light);
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(99, 102, 241, 0.4);
    }

    #generate-btn:disabled {
      opacity: 0.7;
      cursor: not-allowed;
      transform: none;
      box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3);
    }

    .theme-toggle {
      padding: 0.8rem 1.5rem;
      font-size: 1rem;
      border: none;
      border-radius: 16px;
      background: var(--accent);
      color: white;
      cursor: pointer;
      transition: var(--transition);
      font-weight: 600;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.6rem;
      box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3);
    }

    .theme-toggle:hover {
      background: var(--accent-light);
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(99, 102, 241, 0.4);
    }

    .motivation {
      text-align: center;
      color: #4338ca;
      font-size: 1.3rem;
      font-weight: 500;
      margin: 2.5rem 0;
      padding: 1.8rem;
      background: rgba(224, 231, 255, 0.7);
      border-radius: 20px;
      font-style: italic;
      border-left: 5px solid #6366f1;
      transition: var(--transition);
      box-shadow: 0 4px 15px rgba(99, 102, 241, 0.1);
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
    }

    body.dark .motivation {
      background: rgba(30, 41, 59, 0.5);
      color: #c7d2fe;
      border-left-color: #818cf8;
    }

    .progress-container {
      margin: 2.5rem 0;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
    }

    .progress-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 1rem;
      font-size: 1rem;
      font-weight: 600;
      color: #4b5563;
    }

    body.dark .progress-header {
      color: #9ca3af;
    }

    .progress-bar {
      width: 100%;
      background: #e0e7ff;
      border-radius: 16px;
      height: 20px;
      overflow: hidden;
      box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.1);
    }

    body.dark .progress-bar {
      background: #1f2937;
    }

    .progress-bar-inner {
      height: 100%;
      background: linear-gradient(90deg, #6366f1, #22c55e);
      border-radius: 16px;
      transition: width 0.7s cubic-bezier(0.34, 1.56, 0.64, 1);
      width: 0%;
      position: relative;
      overflow: hidden;
    }

    .progress-bar-inner::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      animation: progressShine 2s infinite;
    }

    @keyframes progressShine {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }

    .search-bar {
      width: 100%;
      max-width: 600px;
      margin: 2rem auto;
      display: flex;
      gap: 1rem;
    }

    .search-bar input {
      flex: 1;
      padding: 0.9rem 1.3rem;
      border-radius: 16px;
      border: 2px solid #c7d2fe;
      font-size: 1rem;
      background: white;
      transition: var(--transition);
      box-shadow: 0 4px 10px rgba(99, 102, 241, 0.1);
    }

    body.dark .search-bar input {
      background: #1f2937;
      border-color: #4b5563;
      color: white;
    }

    .search-bar input:focus {
      outline: none;
      border-color: #6366f1;
      box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.2);
    }

    .search-bar button {
      background: var(--accent);
      color: #fff;
      border: none;
      border-radius: 16px;
      padding: 0.9rem 1.8rem;
      font-size: 1rem;
      cursor: pointer;
      transition: var(--transition);
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3);
    }

    .search-bar button:hover {
      background: var(--accent-light);
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(99, 102, 241, 0.4);
    }

    /* Flashcards section */
    .flashcards-section {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 2rem;
      margin: 3rem 0;
    }

    .flashcard {
      perspective: 1200px;
      height: 280px;
      position: relative;
      cursor: pointer;
      transition: transform 0.3s;
    }

    .flashcard:hover {
      transform: translateY(-8px);
    }

    .flashcard-inner {
      position: relative;
      width: 100%;
      height: 100%;
      transition: transform 0.6s;
      transform-style: preserve-3d;
    }

    .flashcard.flipped .flashcard-inner {
      transform: rotateY(180deg);
    }

    .flashcard-front,
    .flashcard-back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      border-radius: 20px;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
      padding: 2rem;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      transition: var(--transition);
    }

    .flashcard-front {
      background: linear-gradient(135deg, #6366f1, #8b5cf6);
      color: white;
    }

    .flashcard-back {
      background: linear-gradient(135deg, #f3f4f6, #e0e7ff);
      color: #111827;
      transform: rotateY(180deg);
    }

    body.dark .flashcard-back {
      background: linear-gradient(135deg, #1f2937, #111827);
      color: #f9fafb;
    }

    .flashcard h3 {
      font-size: 1.2rem;
      margin-bottom: 1rem;
      color: rgba(255, 255, 255, 0.9);
      font-weight: 600;
    }

    .flashcard-back h3 {
      color: #4338ca;
    }

    body.dark .flashcard-back h3 {
      color: #818cf8;
    }

    .flashcard p {
      font-size: 1.3rem;
      font-weight: 500;
      line-height: 1.6;
    }

    /* Flashcard text improvements - no scroll */
    .flashcard-front p, .flashcard-back p {
      word-break: break-word;
      overflow-wrap: anywhere;
      padding: 0.5rem 0.2rem;
      width: 100%;
      text-align: left;
      margin: 0 auto;
      font-size: 1.3rem;
      /* Remove max-height and overflow-y for no scroll */
      transition: font-size 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    .flashcard.flipped .flashcard-back p,
    .flashcard-front p.long-answer {
      font-size: 1.1rem;
      animation: expandAnswer 0.7s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    @keyframes expandAnswer {
      0% { font-size: 1.3rem; }
      100% { font-size: 1.1rem; }
    }

    .topic-badge {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: rgba(255, 255, 255, 0.2);
      color: white;
      padding: 0.4rem 0.8rem;
      border-radius: 50px;
      font-size: 0.85rem;
      font-weight: 600;
      backdrop-filter: blur(4px);
    }

    .flashcard-back .topic-badge {
      background: rgba(99, 102, 241, 0.2);
      color: #4338ca;
    }

    body.dark .flashcard-back .topic-badge {
      color: #c7d2fe;
    }

    .flashcard-actions {
      position: absolute;
      bottom: 1.2rem;
      right: 1.2rem;
      display: flex;
      gap: 0.8rem;
    }

    .flashcard-actions button {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: none;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      background: rgba(255, 255, 255, 0.25);
      color: white;
      font-size: 1.1rem;
      transition: var(--transition);
      backdrop-filter: blur(4px);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    }

    .flashcard-actions button:hover {
      transform: scale(1.15);
      background: rgba(255, 255, 255, 0.35);
    }

    .flashcard-actions .delete-btn {
      background: rgba(239, 68, 68, 0.25);
    }

    .flashcard-actions .delete-btn:hover {
      background: rgba(239, 68, 68, 0.35);
    }

    /* Status message */
    #status-message {
      text-align: center;
      margin: 2rem 0;
      padding: 1.2rem;
      border-radius: 16px;
      font-weight: 600;
      font-size: 1.1rem;
      display: none;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
    }

    .status-success {
      background: rgba(34, 197, 94, 0.2);
      color: #166534;
      border: 2px solid rgba(34, 197, 94, 0.3);
    }

    body.dark .status-success {
      background: rgba(34, 197, 94, 0.15);
      color: #bbf7d0;
      border-color: rgba(34, 197, 94, 0.2);
    }

    .status-error {
      background: rgba(239, 68, 68, 0.2);
      color: #b91c1c;
      border: 2px solid rgba(239, 68, 68, 0.3);
    }

    body.dark .status-error {
      background: rgba(239, 68, 68, 0.15);
      color: #fecaca;
      border-color: rgba(239, 68, 68, 0.2);
    }

    /* Developer modal */
    .dev-modal-bg {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 0, 0.8);
      z-index: 1000;
      align-items: center;
      justify-content: center;
      backdrop-filter: blur(6px);
    }

    .dev-modal-bg.active {
      display: flex;
    }

    .dev-card {
      background: white;
      padding: 3rem;
      border-radius: 25px;
      box-shadow: 0 25px 60px rgba(99, 102, 241, 0.4);
      max-width: 500px;
      margin: auto;
      position: relative;
      text-align: center;
      animation: modalFadeIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    body.dark .dev-card {
      background: var(--card-dark);
    }

    @keyframes modalFadeIn {
      from { opacity: 0; transform: translateY(50px) scale(0.9); }
      to { opacity: 1; transform: translateY(0) scale(1); }
    }

    .dev-close {
      position: absolute;
      top: 1.5rem;
      right: 1.8rem;
      background: none;
      border: none;
      font-size: 2.5rem;
      color: #6366f1;
      cursor: pointer;
      transition: transform 0.3s;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .dev-close:hover {
      transform: rotate(90deg);
    }

    .dev-img-container {
      width: 160px;
      height: 160px;
      border-radius: 50%;
      overflow: hidden;
      margin: 0 auto 1.8rem;
      border: 4px solid #6366f1;
      box-shadow: 0 12px 30px rgba(99, 102, 241, 0.4);
    }

    .dev-img-container img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .dev-card h1 {
      color: #6366f1;
      font-size: 2.4rem;
      margin: 0.8rem 0 0.4rem;
      letter-spacing: -0.5px;
    }

    .dev-card p {
      color: #4b5563;
      font-size: 1.15rem;
      line-height: 1.7;
      margin: 0.7rem 0;
    }

    body.dark .dev-card p {
      color: #d1d5db;
    }

    .dev-links {
      margin-top: 2rem;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1.2rem;
    }

    .dev-links a {
      display: flex;
      align-items: center;
      gap: 0.7rem;
      padding: 0.9rem 1.6rem;
      background: rgba(99, 102, 241, 0.15);
      color: #6366f1;
      text-decoration: none;
      border-radius: 50px;
      font-weight: 600;
      transition: var(--transition);
      box-shadow: 0 4px 10px rgba(99, 102, 241, 0.2);
    }

    .dev-links a:hover {
      background: #6366f1;
      color: white;
      transform: translateY(-4px);
      box-shadow: 0 8px 20px rgba(99, 102, 241, 0.4);
    }

    footer {
      margin-top: 4rem;
      text-align: center;
      color: #6366f1;
      font-size: 1.1rem;
      padding: 2rem 0 1rem;
      border-top: 1px solid #e0e7ff;
    }

    body.dark footer {
      border-top-color: #1f2937;
    }

    footer a {
      color: #6366f1;
      text-decoration: none;
      font-weight: 700;
      transition: var(--transition);
    }

    footer a:hover {
      text-decoration: underline;
      color: #4f46e5;
    }

    .copyright {
      margin-top: 0.8rem;
      font-size: 0.9rem;
      color: #6b7280;
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
      body {
        padding: 1.2rem;
      }
      
      .logo {
        font-size: 2.3rem;
      }
      
      .tagline {
        font-size: 1.1rem;
      }
      
      .profile-container {
        width: 100px;
        height: 100px;
      }
      
      .controls {
        flex-direction: column;
        align-items: center;
      }
      
      .generator {
        margin: 1.8rem 0;
      }
      
      #topic-input, #generate-btn {
        padding: 0.9rem;
        font-size: 1rem;
      }
      
      .flashcards-section {
        grid-template-columns: 1fr;
        gap: 1.8rem;
      }
      
      .flashcard {
        height: 260px;
      }
      
      .dev-card {
        padding: 2rem;
        width: 90%;
      }
      
      .dev-img-container {
        width: 130px;
        height: 130px;
      }
      
      .dev-card h1 {
        font-size: 2rem;
      }
    }

    @media (max-width: 480px) {
      .logo {
        font-size: 2rem;
      }
      
      .motivation {
        font-size: 1.1rem;
        padding: 1.2rem;
      }
      
      .search-bar {
        flex-direction: column;
      }
      
      .flashcard {
        height: 240px;
      }
      
      .flashcard p {
        font-size: 1.1rem;
      }
    }

    .controls {
  display: flex;
  gap: 1rem;
  margin: 1.5rem 0;
  flex-wrap: wrap;
  justify-content: center;
  align-items: center;
}
#showEasyBtn, #showHardBtn {
  margin-top: 0;
  margin-bottom: 0;
}
.flashcard-actions {
  position: relative;
  bottom: 0;
  right: 0;
  display: flex;
  gap: 1rem;
  justify-content: center;
  align-items: center;
  margin-top: 1.5rem;
  flex-wrap: wrap;
}
@media (max-width: 600px) {
  .controls {
    flex-direction: column;
    gap: 0.7rem;
  }
  .flashcard-actions {
    flex-direction: column;
    gap: 0.7rem;
    margin-top: 1rem;
  }
}
  </style>
</head>
<body class="light">
  <div class="container">
    <header>
      <div class="logo">üß† FlashLearn AI</div>
      <p class="tagline">Smart Flashcards for IIT JEE & NEET Aspirants</p>
      
      <div class="profile-container" style="margin-top: 1.5rem; margin-bottom: 2.5rem; border-radius: 30px; overflow: hidden;">
        <img src="https://github.com/pranitdandewarofficial/flashcards/blob/main/pranit.jpeg?raw=true" alt="Developer photo" loading="lazy" style="border-radius: 30px; object-position: center 0px; object-fit: cover; width: 100%; height: 100%;">
      </div>
      
      <div class="controls">
        <button id="theme-toggle" class="theme-toggle">
          <i class="fas fa-moon"></i> Dark Mode
        </button>
      </div>
    </header>

    <div class="motivation" id="motivationQuote">
      Success is the sum of small efforts, repeated day in and day out.
    </div>

    <section class="generator">
      <input type="text" id="topic-input" placeholder="Enter topic like 'Photosynthesis' or 'Newton's Laws'">
      <button id="generate-btn">
        <i class="fas fa-bolt"></i> Generate Flashcards
      </button>
    </section>

    <div class="progress-container">
      <div class="progress-header">
        <span>Your Learning Progress</span>
        <span id="progress-text">0% Complete</span>
      </div>
      <div class="progress-bar">
        <div class="progress-bar-inner" id="progressBarInner" style="width: 0%"></div>
      </div>
    </div>

    <div class="search-bar">
      <input type="text" id="searchInput" placeholder="Search flashcards...">
      <button id="search-btn">
        <i class="fas fa-search"></i> Search
      </button>
      <button id="reset-btn">
        <i class="fas fa-sync"></i> Reset
      </button>
    </div>

    <section class="flashcards-section" id="flashcardsSection">
      <!-- Flashcards will be generated here -->
      <div class="flashcard">
        <div class="flashcard-inner">
          <div class="flashcard-front">
            <h3>Question</h3>
            <p>What is Newton's First Law of Motion?</p>
            <div class="topic-badge">Physics</div>
          </div>
          <div class="flashcard-back">
            <h3>Answer</h3>
            <p>An object at rest stays at rest and an object in motion stays in motion with the same speed and in the same direction unless acted upon by an unbalanced force.</p>
            <div class="topic-badge">Physics</div>
          </div>
        </div>
        <div class="flashcard-actions">
          <button class="known-btn" title="Mark as Known">
            <i class="fas fa-check"></i>
          </button>
          <button class="delete-btn" title="Delete Card">
            <i class="fas fa-trash"></i>
          </button>
        </div>
      </div>
      
      <div class="flashcard">
        <div class="flashcard-inner">
          <div class="flashcard-front">
            <h3>Question</h3>
            <p>What is Avogadro's Number?</p>
            <div class="topic-badge">Chemistry</div>
          </div>
          <div class="flashcard-back">
            <h3>Answer</h3>
            <p>6.022 √ó 10¬≤¬≥ particles per mole. Represents the number of atoms, ions, or molecules in one mole of a substance.</p>
            <div class="topic-badge">Chemistry</div>
          </div>
        </div>
        <div class="flashcard-actions">
          <button class="known-btn" title="Mark as Known">
            <i class="fas fa-check"></i>
          </button>
          <button class="delete-btn" title="Delete Card">
            <i class="fas fa-trash"></i>
          </button>
        </div>
      </div>
    </section>

    <div id="status-message" class="status-message"></div>

    <div style="text-align: center; margin: 3rem 0 2rem;">
      <button id="showDevBtn" class="theme-toggle">
        <i class="fas fa-user"></i> About Developer
      </button>
    </div>

    <div class="dev-modal-bg" id="devModal">
      <div class="dev-card">
        <button class="dev-close" id="closeDevBtn">&times;</button>
        <div class="dev-img-container" style="border-radius: 30px; overflow: hidden;">
          <img src="https://github.com/pranitdandewarofficial/flashcards/blob/main/pranit.jpeg?raw=true" alt="Developer photo" loading="lazy" style="border-radius: 30px; object-position: center 0px; object-fit: cover; width: 100%; height: 100%;">
        </div>
        <h1>PRANIT DANDEWAR</h1>
        <p>IIT Bombay Graduate (Computer Science)</p>
        <p>Founder of The Future Humans</p>
        <p style="margin-top: 1.2rem;">Developer of <strong>FlashLearn AI</strong>. Passionate about helping students achieve their dreams with smart, AI-powered learning tools.</p>
        <p style="color: #6366f1; margin-top: 0.8rem; font-weight: 600;">Let's connect and build the future of learning!</p>
        <div class="dev-links">
          <a href="mailto:busines.pranit@gmail.com" target="_blank"><i class="fas fa-envelope"></i> Email</a>
          <a href="https://github.com/pranitdandewarofficial" target="_blank"><i class="fab fa-github"></i> GitHub</a>
          <a href="https://twitter.com/pranitdandewar" target="_blank"><i class="fab fa-twitter"></i> Twitter</a>
          <a href="https://linkedin.com/in/pranitdandewar" target="_blank"><i class="fab fa-linkedin"></i> LinkedIn</a>
          <a href="https://wa.me/9665807352" target="_blank"><i class="fab fa-whatsapp"></i> WhatsApp</a>
          <a href="https://snapchat.com/add/pranit_dandewar" target="_blank"><i class="fab fa-snapchat-ghost"></i> Snapchat</a>
        </div>
      </div>
    </div>

    <footer>
      Made with ‚ù§Ô∏è for <strong>AIR 1 IIT JEE Aspirants</strong> | Developed by <a href="https://github.com/pranitdandewarofficial" id="dev-link">PRANIT DANDEWAR</a>
      <div class="copyright">¬© 2025 FlashLearn AI. All rights reserved. PRANIT</div>
    </footer>
  </div>

  <script>
    // Sample flashcards data
    let cards = JSON.parse(localStorage.getItem('flashcards')) || [];
    let GEMINI_API_KEY = localStorage.getItem('gemini_api_key') || "AIzaSyB7wqnH__VvoyrN-MIP7GhAWgRhrE48JtQ";

    // DOM Elements
    const topicInput = document.getElementById("topic-input");
    const generateBtn = document.getElementById("generate-btn");
    const flashcardsContainer = document.getElementById("flashcardsSection");
    const themeToggle = document.getElementById("theme-toggle");
    const statusMessage = document.getElementById("status-message");
    const progressBarInner = document.getElementById("progressBarInner");
    const progressText = document.getElementById("progress-text");
    const searchInput = document.getElementById("searchInput");
    const searchBtn = document.getElementById("search-btn");
    const resetBtn = document.getElementById("reset-btn");
    const showDevBtn = document.getElementById("showDevBtn");
    const devModal = document.getElementById("devModal");
    const closeDevBtn = document.getElementById("closeDevBtn");
    const motivationQuote = document.getElementById("motivationQuote");
    const devLink = document.getElementById("dev-link");

    // Add state for current card and easy/hard separation
    let currentCardIndex = 0;
    let easyCards = [];
    let hardCards = [];

    // Initialize the app
    function initApp() {
      // Set initial theme
      const savedTheme = localStorage.getItem("theme") || "light";
      if (savedTheme === "dark") {
        document.body.classList.add("dark");
        themeToggle.innerHTML = '<i class="fas fa-sun"></i> Light Mode';
      }
      
      // Start single card mode
      startSingleCardMode();
      
      // Set up event listeners
      setupEventListeners();
      
      // Start motivational quotes rotation
      rotateQuotes();

      // Expose functions to global scope for HTML event handlers
      window.markAsKnown = markAsKnown;
      window.deleteCard = deleteCard;
    }

    // Set up event listeners
    function setupEventListeners() {
      // Theme toggle
      themeToggle.addEventListener("click", toggleTheme);
      
      // Generate flashcards
      generateBtn.addEventListener("click", generateFlashcards);
      
      // Search functionality
      searchBtn.addEventListener("click", searchFlashcards);
      resetBtn.addEventListener("click", resetSearch);
      
      // Developer modal
      showDevBtn.addEventListener("click", () => devModal.classList.add("active"));
      closeDevBtn.addEventListener("click", () => devModal.classList.remove("active"));
      devModal.addEventListener("click", (e) => {
        if (e.target === devModal) devModal.classList.remove("active");
      });
      devLink.addEventListener("click", (e) => {
        e.preventDefault();
        devModal.classList.add("active");
      });
      
      // Press Enter in topic input to generate
      topicInput.addEventListener("keypress", (e) => {
        if (e.key === "Enter") generateFlashcards();
      });
    }

    // Toggle light/dark mode
    function toggleTheme() {
      document.body.classList.toggle("dark");
      const isDarkMode = document.body.classList.contains("dark");
      themeToggle.innerHTML = isDarkMode ? 
        '<i class="fas fa-sun"></i> Light Mode' : 
        '<i class="fas fa-moon"></i> Dark Mode';
      localStorage.setItem("theme", isDarkMode ? "dark" : "light");
    }

    // Generate flashcards using Gemini AI - fixed version
    async function generateFlashcards() {
      const topic = topicInput.value.trim();
      if (!topic) {
        showStatus("Please enter a topic.", "error");
        return;
      }
      generateBtn.disabled = true;
      generateBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Generating...';
      statusMessage.textContent = 'Generating flashcards with Gemini...';
      statusMessage.className = 'status-success';
      statusMessage.style.display = 'block';
      try {
        const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${GEMINI_API_KEY}`,
          {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
              contents: [{
                parts: [{
                  text: `Generate 20 flashcards for the topic \"${topic}\". Format them as JSON like this:\n[\n  { \"question\": \"Question 1\", \"answer\": \"Answer 1\" },\n  ...\n]`
                }]
              }]
            })
          }
        );
        if (!response.ok) {
          throw new Error(`API error: ${response.status}`);
        }
        const data = await response.json();
        const rawText = data.candidates?.[0]?.content?.parts?.[0]?.text;
        if (!rawText) {
          throw new Error("No response from Gemini");
        }
        let jsonString = rawText;
        try {
          jsonString = jsonString.replace(/```json|```/g, '').trim();
          const firstBrace = jsonString.indexOf('[');
          const lastBrace = jsonString.lastIndexOf(']');
          if (firstBrace === -1 || lastBrace === -1) throw new Error();
          jsonString = jsonString.substring(firstBrace, lastBrace + 1);
          const parsed = JSON.parse(jsonString);
          parsed.forEach(c => {
            cards.unshift({
              id: Date.now() + Math.random(),
              topic: topic,
              front: c.question,
              back: c.answer,
              known: false
            });
          });
          saveCards();
          renderCards();
          updateProgressBar();
          showStatus(`Generated ${parsed.length} flashcards on \"${topic}\"!`, "success");
          topicInput.value = "";
        } catch (e) {
          showStatus("Gemini returned invalid format. Using fallback.", "error");
          simulateAPICall(topic);
        }
      } catch (error) {
        if (error.message.includes('API error') || error.message.includes('No response')) {
          showStatus('AI error: ' + error.message + '. Please check your API key.', "error");
          const newKey = prompt('Gemini API key invalid or quota exceeded. Enter a new Gemini API key:');
          if (newKey) {
            GEMINI_API_KEY = newKey;
            localStorage.setItem('gemini_api_key', newKey);
            showStatus('Trying again with your new API key...', "success");
            await generateFlashcards(); // Retry with new key
            return;
          } else {
            showStatus('No valid API key provided. Using fallback.', "error");
            simulateAPICall(topic);
          }
        } else {
          showStatus('Error: ' + error.message, "error");
          simulateAPICall(topic);
        }
      } finally {
        generateBtn.disabled = false;
        generateBtn.innerHTML = '<i class="fas fa-bolt"></i> Generate Flashcards';
      }
    }

    // Fallback: Simulate flashcard generation for any topic, IIT JEE/NEET style
    function simulateAPICall(topic) {
      // Use the topic in all questions/answers for variety
      const newCards = [
        {
          id: Date.now() + 1,
          topic: topic,
          front: `IIT JEE/NEET: Define or explain the concept of "${topic}".`,
          back: `"${topic}" is a key concept in IIT JEE/NEET. Explain its definition, importance, and where it is used in exams.`,
          known: false
        },
        {
          id: Date.now() + 2,
          topic: topic,
          front: `IIT JEE/NEET: What is the most important formula or fact about "${topic}"?`,
          back: `The most important formula/fact for "${topic}" is: [Write the main formula or fact here]. This is frequently asked in exams.`,
          known: false
        },
        {
          id: Date.now() + 3,
          topic: topic,
          front: `IIT JEE/NEET: Give a solved example or application of "${topic}".`,
          back: `Example: [Give a simple solved example or application of "${topic}" relevant to IIT JEE/NEET].`,
          known: false
        },
        {
          id: Date.now() + 4,
          topic: topic,
          front: `IIT JEE/NEET: What are common mistakes or misconceptions about "${topic}"?`,
          back: `Common mistakes: [List common errors or misconceptions students make about "${topic}" in exams].`,
          known: false
        }
      ];
      cards = [...newCards, ...cards];
      saveCards();
      renderCards();
      updateProgressBar();
      showStatus(`Generated 4 IIT JEE/NEET flashcards on "${topic}"!`, "success");
      topicInput.value = "";
    }

    // Render flashcards to the DOM
    function renderCards() {
      flashcardsContainer.innerHTML = '';
      if (cards.length === 0) {
        flashcardsContainer.innerHTML = `
          <div style="text-align:center; padding:3rem; color:#6366f1; grid-column:1/-1;">
            <i class="fas fa-lightbulb" style="font-size:4rem; margin-bottom:1.5rem;"></i>
            <h3 style="font-size:1.8rem; margin-bottom:1rem;">No Flashcards Yet</h3>
            <p style="font-size:1.2rem;">Enter a topic above to generate your first set of flashcards!</p>
          </div>
        `;
        return;
      }
      cards.forEach(card => {
        const cardElement = document.createElement('div');
        cardElement.className = 'flashcard';
        // Check if answer is long
        const isLong = card.back && card.back.length > 180;
        cardElement.innerHTML = `
          <div class="flashcard-inner">
            <div class="flashcard-front">
              <h3>Question</h3>
              <p class="${isLong ? 'long-answer' : ''}">${card.front}</p>
              <div class="topic-badge">${card.topic}</div>
            </div>
            <div class="flashcard-back">
              <h3>Answer</h3>
              <p class="${isLong ? 'long-answer' : ''}">${card.back}</p>
              <div class="topic-badge">${card.topic}</div>
            </div>
          </div>
          <div class="flashcard-actions">
            <button class="known-btn" title="Mark as Known" onclick="markAsKnown(${card.id}, event)">
              <i class="fas fa-check"></i>
            </button>
            <button class="delete-btn" title="Delete Card" onclick="deleteCard(${card.id}, event)">
              <i class="fas fa-trash"></i>
            </button>
          </div>
        `;
        cardElement.addEventListener('click', (e) => {
          if (!e.target.closest('button')) {
            // Close any other open (flipped) card
            document.querySelectorAll('.flashcard.flipped').forEach(openCard => {
              if (openCard !== cardElement) {
                openCard.classList.remove('flipped');
              }
            });
            cardElement.classList.toggle('flipped');
            // Animate answer expansion on flip
            const backP = cardElement.querySelector('.flashcard-back p');
            if (cardElement.classList.contains('flipped') && backP && backP.classList.contains('long-answer')) {
              backP.style.animation = 'expandAnswer 0.7s cubic-bezier(0.34, 1.56, 0.64, 1)';
            } else if (backP) {
              backP.style.animation = '';
            }
          }
        });
        if (card.known) {
          const front = cardElement.querySelector('.flashcard-front');
          front.style.background = 'linear-gradient(135deg, #22c55e, #16a34a)';
          const knownBtn = cardElement.querySelector('.known-btn');
          knownBtn.innerHTML = '<i class="fas fa-star"></i>';
          knownBtn.style.background = 'rgba(34, 197, 94, 0.3)';
        }
        flashcardsContainer.appendChild(cardElement);
      });
    }

    // Mark card as known
    function markAsKnown(cardId, e) {
      e.stopPropagation();
      const card = cards.find(c => c.id === cardId);
      if (card) {
        card.known = !card.known;
        saveCards();
        renderCards();
        updateProgressBar();
      }
    }

    // Delete card
    function deleteCard(cardId, e) {
      e.stopPropagation();
      if (confirm('Are you sure you want to delete this flashcard?')) {
        cards = cards.filter(c => c.id !== cardId);
        saveCards();
        renderCards();
        updateProgressBar();
        showStatus('Flashcard deleted successfully!', 'success');
      }
    }

    // Search flashcards
    function searchFlashcards() {
      const query = searchInput.value.trim().toLowerCase();
      if (!query) return;
      
      const filteredCards = cards.filter(card => 
        card.front.toLowerCase().includes(query) || 
        card.back.toLowerCase().includes(query) ||
        card.topic.toLowerCase().includes(query)
      );
      
      renderFilteredCards(filteredCards);
    }

    // Render filtered cards
    function renderFilteredCards(filteredCards) {
      flashcardsContainer.innerHTML = '';
      
      if (filteredCards.length === 0) {
        flashcardsContainer.innerHTML = `
          <div style="text-align:center; padding:3rem; color:#ef4444; grid-column:1/-1;">
            <i class="fas fa-search" style="font-size:4rem; margin-bottom:1.5rem;"></i>
            <h3 style="font-size:1.8rem; margin-bottom:1rem;">No Matching Flashcards</h3>
            <p style="font-size:1.2rem;">No flashcards found for "${searchInput.value}". Try a different search term.</p>
          </div>
        `;
        return;
      }
      
      filteredCards.forEach(card => {
        const cardElement = document.createElement('div');
        cardElement.className = 'flashcard';
        cardElement.innerHTML = `
          <div class="flashcard-inner">
            <div class="flashcard-front">
              <h3>Question</h3>
              <p>${highlightText(card.front, searchInput.value)}</p>
              <div class="topic-badge">${card.topic}</div>
            </div>
            <div class="flashcard-back">
              <h3>Answer</h3>
              <p>${highlightText(card.back, searchInput.value)}</p>
              <div class="topic-badge">${card.topic}</div>
            </div>
          </div>
          <div class="flashcard-actions">
            <button class="known-btn" title="Mark as Known" onclick="markAsKnown(${card.id}, event)">
              <i class="fas fa-check"></i>
            </button>
            <button class="delete-btn" title="Delete Card" onclick="deleteCard(${card.id}, event)">
              <i class="fas fa-trash"></i>
            </button>
          </div>
        `;
        
        cardElement.addEventListener('click', (e) => {
          if (!e.target.closest('button')) {
            cardElement.classList.toggle('flipped');
          }
        });
        
        if (card.known) {
          const front = cardElement.querySelector('.flashcard-front');
          front.style.background = 'linear-gradient(135deg, #22c55e, #16a34a)';
          const knownBtn = cardElement.querySelector('.known-btn');
          knownBtn.innerHTML = '<i class="fas fa-star"></i>';
          knownBtn.style.background = 'rgba(34, 197, 94, 0.3)';
        }
        
        flashcardsContainer.appendChild(cardElement);
      });
    }

    // Highlight search terms in text
    function highlightText(text, query) {
      if (!query) return text;
      const regex = new RegExp(`(${escapeRegExp(query)})`, 'gi');
      return text.replace(regex, '<mark style="background: #ffeb3b; color: #000; padding: 0 2px;">$1</mark>');
    }

    // Escape special regex characters
    function escapeRegExp(string) {
      return string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
    }

    // Reset search
    function resetSearch() {
      searchInput.value = "";
      renderCards();
    }

    // Update progress bar
    function updateProgressBar() {
      const knownCards = cards.filter(card => card.known).length;
      const totalCards = cards.length;
      const progress = totalCards > 0 ? Math.round((knownCards / totalCards) * 100) : 0;
      
      progressBarInner.style.width = `${progress}%`;
      progressText.textContent = `${progress}% Complete`;
    }

    // Save cards to localStorage
    function saveCards() {
      localStorage.setItem('flashcards', JSON.stringify(cards));
    }

    // Show status message
    function showStatus(message, type) {
      statusMessage.textContent = message;
      statusMessage.className = type === "success" ? "status-success" : "status-error";
      statusMessage.style.display = "block";
      
      setTimeout(() => {
        statusMessage.style.display = "none";
      }, 4000);
    }

    // Rotate motivational quotes
    function rotateQuotes() {
      let index = 0;
      motivationQuote.textContent = motivationalQuotes[index];
      
      setInterval(() => {
        index = (index + 1) % motivationalQuotes.length;
        motivationQuote.style.opacity = 0;
        
        setTimeout(() => {
          motivationQuote.textContent = motivationalQuotes[index];
          motivationQuote.style.opacity = 1;
        }, 500);
      }, 6000);
    }

    // Render flashcards one by one with Next, Easy, and Hard buttons
    function renderSingleCard() {
      flashcardsContainer.innerHTML = '';
      if (cards.length === 0) {
        flashcardsContainer.innerHTML = `
          <div style="text-align:center; padding:3rem; color:#6366f1; grid-column:1/-1;">
            <i class="fas fa-lightbulb" style="font-size:4rem; margin-bottom:1.5rem;"></i>
            <h3 style="font-size:1.8rem; margin-bottom:1rem;">No Flashcards Yet</h3>
            <p style="font-size:1.2rem;">Enter a topic above to generate your first set of flashcards!</p>
          </div>
        `;
        return;
      }
      if (currentCardIndex >= cards.length) currentCardIndex = 0;
      const card = cards[currentCardIndex];
      const isLong = card.back && card.back.length > 180;
      const cardElement = document.createElement('div');
      cardElement.className = 'flashcard';
      cardElement.innerHTML = `
        <div class="flashcard-inner">
          <div class="flashcard-front">
            <h3>Question</h3>
            <p class="${isLong ? 'long-answer' : ''}">${card.front}</p>
            <div class="topic-badge">${card.topic}</div>
          </div>
          <div class="flashcard-back">
            <h3>Answer</h3>
            <p class="${isLong ? 'long-answer' : ''}">${card.back}</p>
            <div class="topic-badge">${card.topic}</div>
          </div>
        </div>
        <div class="flashcard-actions">
          <button class="known-btn" title="Easy" id="easyBtn"><i class="fas fa-check"></i> Easy</button>
          <button class="delete-btn" title="Hard" id="hardBtn"><i class="fas fa-fire"></i> Hard</button>
          <button class="next-btn" id="nextBtn"><i class="fas fa-arrow-right"></i> Next</button>
        </div>
      `;
      let flipped = false;
      cardElement.addEventListener('click', (e) => {
        if (!e.target.closest('button')) {
          cardElement.classList.toggle('flipped');
          flipped = !flipped;
        }
      });
      cardElement.querySelector('#easyBtn').onclick = function(e) {
        e.stopPropagation();
        easyCards.push(card);
        cards.splice(currentCardIndex, 1);
        if (currentCardIndex >= cards.length) currentCardIndex = 0;
        renderSingleCard();
      };
      cardElement.querySelector('#hardBtn').onclick = function(e) {
        e.stopPropagation();
        hardCards.push(card);
        cards.splice(currentCardIndex, 1);
        if (currentCardIndex >= cards.length) currentCardIndex = 0;
        renderSingleCard();
      };
      cardElement.querySelector('#nextBtn').onclick = function(e) {
        e.stopPropagation();
        currentCardIndex = (currentCardIndex + 1) % cards.length;
        renderSingleCard();
      };
      flashcardsContainer.appendChild(cardElement);
    }

    // Add buttons to view easy/hard cards
    function renderEasyHardButtons() {
      const controls = document.querySelector('.controls');
      if (!controls) return;
      let easyBtn = document.getElementById('showEasyBtn');
      let hardBtn = document.getElementById('showHardBtn');
      if (!easyBtn) {
        easyBtn = document.createElement('button');
        easyBtn.id = 'showEasyBtn';
        easyBtn.className = 'theme-toggle';
        easyBtn.innerHTML = '<i class="fas fa-check"></i> Easy Cards';
        easyBtn.onclick = function() {
          cards = [...easyCards];
          currentCardIndex = 0;
          renderSingleCard();
        };
        controls.appendChild(easyBtn);
      }
      if (!hardBtn) {
        hardBtn = document.createElement('button');
        hardBtn.id = 'showHardBtn';
        hardBtn.className = 'theme-toggle';
        hardBtn.innerHTML = '<i class="fas fa-fire"></i> Hard Cards';
        hardBtn.onclick = function() {
          cards = [...hardCards];
          currentCardIndex = 0;
          renderSingleCard();
        };
        controls.appendChild(hardBtn);
      }
    }

    // Call this instead of renderCards for 1-by-1 mode
    function startSingleCardMode() {
      renderEasyHardButtons();
      renderSingleCard();
    }

    // Initialize the app when DOM is loaded
    document.addEventListener('DOMContentLoaded', initApp);
  </script>
</body>
</html>
